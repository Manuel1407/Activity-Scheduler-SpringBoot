<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/navbar}" >
<head>
    <meta charset="UTF-8">
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet"/>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" rel="stylesheet"/>
    <!-- MDB -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/5.0.0/mdb.min.css" rel="stylesheet"/>
    <title>dashboard</title>
</head>
<body>

<div layout:fragment="content">

    <section style="background-color: #beb9;">
        <div class="container py-5">
            <div class="row d-flex justify-content-center align-items-center h-100">
                <div class="col-md-14 col-xl-13">

                    <div class="card">
                        <div class="card-header p-3" >
                            <h5 class="mb-0"><i class="fas fa-tasks"></i>Task List</h5>
                            <span class="d-flex justify-content-end ">

                                <div>
                                    <a th:href="@{/task/{status}(status =${'PENDING'})}" class="btn btn-danger btn-sm mb-3">Pending Tasks</a>
                                    <a th:href="@{/task/{status}(status=${'IN_PROGRESS'})}" class="btn btn-warning btn-sm mb-3">Tasks In Progress</a>
                                    <a th:href="@{/task/{status}(status=${'COMPLETED'})}" class="btn btn-success btn-sm mb-3">Done Tasks</a>
                                </div>

                                <div class="dropdown show">
                                    <a class="btn btn-success dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        Filter Status
                                    </a>
                                    <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                                        <a class="dropdown-item" th:href="@{/dashboard}" >All</a>
                                        <a class="dropdown-item" th:href="@{/task/{status}(status =${'PENDING'})}"  >Pending</a>
                                        <a class="dropdown-item" th:href="@{/task/{status}(status=${'IN_PROGRESS'})}" >In Progress</a>
                                        <a class="dropdown-item" th:href="@{/task/{status}(status=${'COMPLETED'})}">Completed</a>
                                    </div>
                                </div>
                            </span>
                        </div>
                        <div class="card-body" data-mdb-perfect-scrollbar="true" style="position: relative; height: 400px">
                            <table class="table mb-0">
                                <thead>
                                <tr>
                                    <th scope="col">Title</th>
                                    <th scope="col">Description</th>
                                    <th scope="col">Status</th>
                                    <th scope="col">Created At</th>
                                    <th scope="col">Updated At</th>
                                    <th scope="col">Completed At</th>
                                    <th scope="col">Actions</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr class="fw-normal" th:each="task : ${listTasks}">
                                    <td th:text="${task.title}" class="align-middle" >Title</td>
                                    <td th:text="${task.description}" class="align-middle" >Description</td>
                                    <td th:text="${task.status}" class="align-middle" >Status</td>
                                    <td th:text="${task.createdAt}" class="align-middle" >Created At</td>
                                    <td th:text="${task.updatedAt}" class="align-middle" >Updated At</td>
                                    <td th:text="${task.completedAt}" class="align-middle" >Completed At</td>
                                    <td>
                                        <a href="#!" data-mdb-toggle="tooltip" title="Done"><i class="fas fa-check text-success me-2"></i></a>
                                        <a th:href="@{/arrow-left/{id}(id=${task.id})}" class="text-danger" data-mdb-toggle="tooltip" title="Backward"><i class="fa fa-arrow-left me-2"></i></a>
                                        <a th:href="@{/arrow-right/{id}(id=${task.id})}" class="text-danger" data-mdb-toggle="tooltip" title="Forward"><i class="fa fa-arrow-right me-2"></i></a>
                                        <a th:href="@{/viewPage/{id}(id=${task.id})}" class="text-info" data-mdb-toggle="tooltip" title="View"><i class="fas fa-eye me-2"></i></a>
                                        <a th:href="@{/editPage/{id}(id=${task.id})}" class="text-info" data-mdb-toggle="tooltip" title="Edit"><i class="fas fa-pencil-alt me-2"></i></a>
                                        <a th:href="@{/delete/{id}(id=${task.id})}" class="text-danger" data-mdb-toggle="tooltip" title="Delete"><i class="fas fa-trash-alt"></i></a>
                                    </td>
                                </tr>
                                </tbody>
                            </table>

                        </div>
                        <div class="card-footer text-end p-3">
                            <a th:href="@{/addNewTask}" class="btn btn-success btn-sm mb-3">Create New Task </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

</div>

<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>

</body>
</html>